# useSnapScroll ç§»åŠ¨ç«¯é—®é¢˜åˆ†ææŠ¥å‘Š

## ğŸ“‹ å½“å‰å®ç°æ¦‚è¿°

### è§¦æ‘¸äº‹ä»¶å¤„ç†æµç¨‹
```typescript
// å½“å‰çš„è§¦æ‘¸å¤„ç†é€»è¾‘
let touchStartY = 0

const handleTouchStart = (e: TouchEvent) => {
  if (!isSnapMode.value) return
  touchStartY = e.touches[0].clientY
}

const handleTouchEnd = (e: TouchEvent) => {
  if (!isSnapMode.value || isAnimating.value) return
  const deltaY = touchStartY - e.changedTouches[0].clientY
  if (Math.abs(deltaY) < 50) return // å›ºå®š50pxé˜ˆå€¼
  
  // ç®€å•çš„æ–¹å‘åˆ¤æ–­
  if (deltaY > 0) {
    // å‘ä¸Šæ»‘åŠ¨ -> ä¸‹ä¸€å±
  } else {
    // å‘ä¸‹æ»‘åŠ¨ -> ä¸Šä¸€å±
  }
}
```

## ğŸš¨ ä¸»è¦é—®é¢˜åˆ†æ

### 1. ç®€å•ç²—æš´çš„é˜ˆå€¼åˆ¤æ–­
**é—®é¢˜**ï¼šåªæ£€æŸ¥æ»‘åŠ¨è·ç¦»æ˜¯å¦è¶…è¿‡50pxï¼Œå®Œå…¨å¿½ç•¥æ»‘åŠ¨é€Ÿåº¦
- âŒ å¿«é€Ÿè½»æ»‘ï¼ˆè·ç¦»çŸ­ä½†é€Ÿåº¦å¿«ï¼‰æ— æ³•è§¦å‘åˆ‡æ¢
- âŒ æ…¢é€Ÿé•¿æ»‘ï¼ˆè·ç¦»é•¿ä½†å¯èƒ½æ˜¯è¯¯æ“ä½œï¼‰å®¹æ˜“è¯¯è§¦å‘
- âŒ æ²¡æœ‰è€ƒè™‘ä¸åŒè®¾å¤‡çš„å±å¹•å°ºå¯¸å·®å¼‚

**å½±å“**ï¼šç§»åŠ¨ç«¯ç”¨æˆ·éœ€è¦è¿›è¡Œè¾ƒå¤§å¹…åº¦çš„æ»‘åŠ¨æ‰èƒ½åˆ‡æ¢é¡µé¢ï¼Œä½“éªŒä¸å¤Ÿæµç•…

### 2. ç¼ºä¹æ»‘åŠ¨é€Ÿåº¦æ£€æµ‹
**é—®é¢˜**ï¼šæ²¡æœ‰è®¡ç®—æ»‘åŠ¨é€Ÿåº¦ï¼ˆvelocity = distance / timeï¼‰
- âŒ æ— æ³•è¯†åˆ«ç”¨æˆ·çš„æ»‘åŠ¨æ„å›¾å¼ºåº¦
- âŒ å¿«é€Ÿæ»‘åŠ¨åº”è¯¥ä¼˜å…ˆè§¦å‘ï¼Œå³ä½¿è·ç¦»è¾ƒçŸ­
- âŒ æ…¢é€Ÿæ‹–æ‹½å¯èƒ½æ˜¯æµè§ˆè¡Œä¸ºï¼Œä¸åº”è¯¥è§¦å‘åˆ‡æ¢

**ç°ä»£ç§»åŠ¨ç«¯äº¤äº’æ ‡å‡†**ï¼šiOS/Android éƒ½é‡‡ç”¨é€Ÿåº¦+è·ç¦»çš„ç»¼åˆåˆ¤æ–­

### 3. æ–¹å‘åˆ¤æ–­ä¸å¤Ÿç²¾ç¡®
**é—®é¢˜**ï¼šåªæ£€æŸ¥å‚ç›´æ–¹å‘çš„deltaYï¼Œæ²¡æœ‰è€ƒè™‘æ°´å¹³åˆ†é‡
- âŒ æ–œå‘æ»‘åŠ¨å¯èƒ½è¢«è¯¯åˆ¤ä¸ºå‚ç›´æ»‘åŠ¨
- âŒ æ²¡æœ‰æ–¹å‘ç½®ä¿¡åº¦æ£€æµ‹
- âŒ å®¹æ˜“ä¸å…¶ä»–æ°´å¹³æ»‘åŠ¨ç»„ä»¶å†²çª

**å»ºè®®**ï¼šè®¡ç®—æ»‘åŠ¨è§’åº¦ï¼Œåªæœ‰å‚ç›´åˆ†é‡å ä¸»å¯¼ï¼ˆ>70%ï¼‰æ‰è®¤ä¸ºæ˜¯æœ‰æ•ˆå‚ç›´æ»‘åŠ¨

### 4. ç¼ºä¹è®¾å¤‡å·®å¼‚åŒ–é…ç½®
**é—®é¢˜**ï¼šPCå’Œç§»åŠ¨ç«¯ä½¿ç”¨ç›¸åŒçš„é…ç½®å‚æ•°
- âŒ ç§»åŠ¨ç«¯éœ€è¦æ›´å¿«çš„åŠ¨ç”»å“åº”ï¼ˆduration: 0.8s vs 1.2sï¼‰
- âŒ ç§»åŠ¨ç«¯éœ€è¦ä¸åŒçš„ç¼“åŠ¨å‡½æ•°ï¼ˆæ›´é€‚åˆè§¦æ‘¸çš„easeï¼‰
- âŒ ä¸åŒå±å¹•å°ºå¯¸éœ€è¦ä¸åŒçš„é˜ˆå€¼è®¾ç½®

### 5. è§¦æ‘¸åé¦ˆç¼ºå¤±
**é—®é¢˜**ï¼šæ²¡æœ‰æä¾›è§¦æ‘¸åé¦ˆå’Œè§†è§‰æç¤º
- âŒ ç”¨æˆ·ä¸çŸ¥é“æ»‘åŠ¨æ˜¯å¦è¢«è¯†åˆ«
- âŒ æ²¡æœ‰è§¦è§‰åé¦ˆï¼ˆvibrationï¼‰
- âŒ æ²¡æœ‰è§†è§‰åé¦ˆï¼ˆå¦‚æ»‘åŠ¨æŒ‡ç¤ºå™¨ï¼‰

## ğŸ“Š ä¸PCç«¯å¯¹æ¯”

| ç‰¹æ€§ | PCç«¯ï¼ˆé¼ æ ‡æ»šè½®ï¼‰ | ç§»åŠ¨ç«¯ï¼ˆè§¦æ‘¸ï¼‰å½“å‰ | ç§»åŠ¨ç«¯ç†æƒ³çŠ¶æ€ |
|------|------------------|-------------------|----------------|
| è§¦å‘æœºåˆ¶ | æ»šè½®æ–¹å‘æ£€æµ‹ | å›ºå®šè·ç¦»é˜ˆå€¼ | è·ç¦»+é€Ÿåº¦ç»¼åˆ |
| å“åº”é€Ÿåº¦ | å³æ—¶ | éœ€è¦å¤§å¹…æ»‘åŠ¨ | å¿«é€Ÿå“åº” |
| è¯¯è§¦å‘æ§åˆ¶ | å¾ˆå¥½ | ä¸€èˆ¬ | æ™ºèƒ½è¿‡æ»¤ |
| åŠ¨ç”»å‚æ•° | 1.2s, power2.out | ç›¸åŒ | 0.8s, power2.inOut |
| ç”¨æˆ·åé¦ˆ | æ— éœ€ | æ—  | è§¦è§‰+è§†è§‰åé¦ˆ |

## ğŸ¯ æ”¹è¿›ç›®æ ‡

### çŸ­æœŸç›®æ ‡ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
1. å®ç°æ™ºèƒ½çš„è·ç¦»+é€Ÿåº¦ç»¼åˆåˆ¤æ–­
2. æ·»åŠ æ–¹å‘ç½®ä¿¡åº¦æ£€æµ‹
3. è®¾å¤‡å·®å¼‚åŒ–é…ç½®

### ä¸­æœŸç›®æ ‡ï¼ˆä½“éªŒä¼˜åŒ–ï¼‰
4. è§¦æ‘¸åé¦ˆå’Œè§†è§‰æç¤º
5. è¾¹ç•Œæƒ…å†µå¤„ç†
6. æ€§èƒ½ä¼˜åŒ–

### é•¿æœŸç›®æ ‡ï¼ˆé«˜çº§åŠŸèƒ½ï¼‰
7. è‡ªé€‚åº”å­¦ä¹ ç”¨æˆ·ä¹ æƒ¯
8. é«˜çº§æ‰‹åŠ¿æ”¯æŒ

## ğŸ”§ æŠ€æœ¯å®ç°æ–¹å‘

### æ™ºèƒ½æ‰‹åŠ¿è¯†åˆ«ç®—æ³•
```typescript
interface TouchGesture {
  startTime: number
  startY: number
  endTime: number
  endY: number
  distance: number
  velocity: number
  direction: 'up' | 'down'
  confidence: number
}

const isValidSwipe = (gesture: TouchGesture) => {
  const { distance, velocity, confidence } = gesture
  
  // ç»¼åˆåˆ¤æ–­ï¼šè·ç¦»è¶³å¤Ÿ OR (é€Ÿåº¦è¶³å¤Ÿ AND æœ€å°è·ç¦»)
  const distanceValid = distance > minDistance
  const velocityValid = velocity > minVelocity && distance > minQuickDistance
  const directionValid = confidence > 0.7
  
  return (distanceValid || velocityValid) && directionValid
}
```

### è®¾å¤‡ç‰¹å®šé…ç½®
```typescript
const mobileConfig = {
  minDistance: 30,        // é™ä½è·ç¦»è¦æ±‚
  minVelocity: 0.5,       // px/ms
  minQuickDistance: 15,   // å¿«é€Ÿæ»‘åŠ¨æœ€å°è·ç¦»
  duration: 0.8,          // æ›´å¿«çš„åŠ¨ç”»
  ease: "power2.inOut"    // é€‚åˆè§¦æ‘¸çš„ç¼“åŠ¨
}
```

## ğŸ“ˆ é¢„æœŸæ”¹è¿›æ•ˆæœ

1. **å“åº”æ€§æå‡**ï¼šå¿«é€Ÿè½»æ»‘å³å¯è§¦å‘åˆ‡æ¢
2. **è¯¯è§¦å‘å‡å°‘**ï¼šæ™ºèƒ½è¿‡æ»¤æ— æ„çš„æ»‘åŠ¨
3. **ä½“éªŒä¸€è‡´æ€§**ï¼šç¬¦åˆç§»åŠ¨ç«¯äº¤äº’æ ‡å‡†
4. **è®¾å¤‡é€‚é…**ï¼šä¸åŒè®¾å¤‡æœ‰æœ€ä½³å‚æ•°é…ç½®

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. è®¾è®¡è®¾å¤‡å·®å¼‚åŒ–é…ç½®æ–¹æ¡ˆ
2. é‡æ„useSnapScrollé›†æˆè®¾å¤‡æ£€æµ‹
3. å®ç°æ™ºèƒ½è§¦æ‘¸æ‰‹åŠ¿è¯†åˆ«ç®—æ³•
4. ç§»åŠ¨ç«¯å‚æ•°ä¼˜åŒ–å’Œæµ‹è¯•éªŒè¯
